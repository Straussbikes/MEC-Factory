"use strict";(self["webpackChunkbruh"]=self["webpackChunkbruh"]||[]).push([[179],{8322:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var o=a(3396),n=a(9242);const l={class:"responsive-page"},s={class:"login-form-container"},i=(0,o._)("h1",{class:"login-title"},"Login",-1),r={class:"form-group"},c=(0,o._)("label",{for:"email"},"Email:",-1),d={class:"form-group"},h=(0,o._)("label",{for:"password"},"Password:",-1),u=(0,o._)("button",{type:"submit",class:"login-button"},"Login",-1);function m(t,e,a,m,p,w){return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",s,[(0,o._)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)(((...t)=>w.submitForm&&w.submitForm(...t)),["prevent"])),class:"login-form"},[i,(0,o._)("div",r,[c,(0,o.wy)((0,o._)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>p.email=t),required:""},null,512),[[n.nr,p.email]])]),(0,o._)("div",d,[h,(0,o.wy)((0,o._)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>p.password=t),required:""},null,512),[[n.nr,p.password]])]),u],32)])])}a(7658);var p=a(4161),w=a(8826);const g=(0,w.L)();var f={data(){return{email:"",password:""}},methods:{async submitForm(){try{const e=await p.Z.post("/login",{email:this.email,password:this.password});if(g.token=e.data.ok,g.expiresIn=e.data.expiresIn,g.setTime(),200==e.status){g.isLoggedIn=!0,localStorage.setItem("isLoggedIn",!0);try{const t=await(0,p.Z)({method:"GET",url:"/protected",headers:{Authorization:"Bearer "+g.token}});g.name=t.data.name,localStorage.setItem("name",t.data.name),localStorage.setItem("emaila",this.email)}catch(t){console.log(t)}await this.$router.push({path:"/main"}),location.reload()}console.log("Login successful:",e.data)}catch(t){console.error("Login failed:",t)}}}},b=a(89);const _=(0,b.Z)(f,[["render",m]]);var v=_},7273:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var o=a(3396),n=a(7139);const l=t=>((0,o.dD)("data-v-cb04b112"),t=t(),(0,o.Cn)(),t),s={class:"page-container"},i={class:"left-column"},r={class:"section"},c=l((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"AppId"),(0,o._)("th",null,"Request"),(0,o._)("th",null,"Error Code"),(0,o._)("th",null,"Date"),(0,o._)("th",null,"More")])],-1))),d=["onClick"],h={class:"section"},u={class:"section switch-section"},m=l((()=>(0,o._)("h1",{class:"white-text"},"Turn On MEP",-1))),p={key:0},w={class:"white-texts"},g={class:"download"};function f(t,e,a,l,f,b){const _=(0,o.up)("v-table"),v=(0,o.up)("v-progress-circular"),D=(0,o.up)("v-switch"),y=(0,o.up)("v-btn");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",i,[(0,o._)("div",r,[(0,o.Wm)(_,{height:"300px"},{default:(0,o.w5)((()=>[c,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.tableData,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,(0,n.zw)(t.appId),1),(0,o._)("td",null,(0,n.zw)(t.request),1),(0,o._)("td",null,(0,n.zw)(t.erro),1),(0,o._)("td",null,(0,n.zw)(t.date),1),(0,o._)("td",null,[(0,o._)("button",{onClick:e=>b.openPopupWindow(t)},"More",8,d)])])))),128))])])),_:1})])]),(0,o._)("div",h,[(0,o._)("div",u,[(0,o.Wm)(D,{modelValue:f.switchMe,"onUpdate:modelValue":e[0]||(e[0]=t=>f.switchMe=t),class:"custom-switch",onInput:b.handleSwitchChange},{label:(0,o.w5)((()=>[m,(0,o.Wm)(v,{indeterminate:f.switchMe,size:"24",class:"loading-spinner"},null,8,["indeterminate"])])),_:1},8,["modelValue","onInput"])]),f.switchMe?((0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("h1",w,"Use this to connect to MEP http://0.0.0.0:8000/"+(0,n.zw)(f.email)+"/",1)])):(0,o.kq)("",!0),(0,o._)("div",g,[(0,o.Wm)(y,{onClick:b.downloadData},{default:(0,o.w5)((()=>[(0,o.Uk)("Download Data")])),_:1},8,["onClick"])])])])}a(7658),a(541);var b=a(4161),_=a(8826);const v=(0,_.L)();var D={data(){return{user:null,switchMe:!1,email:localStorage.getItem("emaila"),tableData:[]}},mounted(){this.fetchData();JSON.stringify(this.tableData);const t=localStorage.getItem("tableData");t&&(this.tableData=JSON.parse(t),console.log(this.tableData)),setInterval(this.fetchData,500)},methods:{handleSwitchChange(){this.switchMe?this.handleSwitchOn():this.handleSwitchOff()},handleSwitchOn(){console.log("Switch is ON (spinning)")},handleSwitchOff(){console.log("Switch is OFF (not spinning)")},async downloadData(){try{const t=JSON.stringify(this.tableData,null,2),e=new Blob([t],{type:"application/txt"}),a=window.URL.createObjectURL(e),o=document.createElement("a");o.href=a,o.download="dados.txt",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(a),document.body.removeChild(o)}catch(t){console.error("Erro ao fazer o download:",t)}},openPopupWindow(t){const e=(0,_.L)();e.data=t;this.$router.push({name:"more"})},async fetchData(){try{const t=await(0,b.Z)({method:"GET",url:"/data",headers:{Authorization:"Bearer "+v.token},params:{email:this.email}});let e=!1;const a=JSON.stringify(t.data);if(null!=t.data){for(let t=0;t<this.tableData.length;t++){const o=JSON.stringify(this.tableData[t]);if(o===a){e=!0;break}}if(!e){const t=JSON.parse(a);this.tableData.unshift(t),localStorage.setItem("tableData",JSON.stringify(this.tableData))}}}catch(t){console.error("Error fetching data:",t)}},handleDirectoryChange(t){this.selectedDirectory=t.target.files[0].webkitRelativePath},saveData(){this.selectedDirectory&&console.log("Selected directory:",this.selectedDirectory)}}};v.refreshToken();var y=a(89);const S=(0,y.Z)(D,[["render",f],["__scopeId","data-v-cb04b112"]]);var k=S}}]);
//# sourceMappingURL=main.4c7ca377.js.map